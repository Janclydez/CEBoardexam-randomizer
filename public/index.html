<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z9KTYNYN95"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z9KTYNYN95');
  </script>

  <meta charset="UTF-8" />
  <title>Exam Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>CE Board Exam Generator</h1>

  <form id="exam-settings">
    <label><b>Main Tags (check the subjects you want to include):</b></label><br />
    <div id="mainTagContainer"></div><br />

    <label><b>Sub Tags (uncheck all the subtopics you want to exclude - leave all checked by default):</b></label><br />
    <div id="subTagContainer"></div><br />

    <label><b>Number of Situations:</b></label>
    <input type="number" id="situationCount" value="2" min="1" />
    <button type="submit" id="generateBtn">Generate Exam</button>
  </form>

  <form id="exam-form" style="display:none;"></form>

  <div id="score"></div>

  <script src="script.js"></script>

  <!-- Custom GA4 Event Tracking -->
  <script>
    // Track "Generate Exam" button click
    document.getElementById('generateBtn').addEventListener('click', () => {
      gtag('event', 'generate_exam', {
        event_category: 'Exam',
        event_label: 'Generate Button Clicked'
      });
    });

    // Track main tag checkbox changes
    document.getElementById('mainTagContainer').addEventListener('change', (e) => {
      if (e.target && e.target.type === 'checkbox') {
        gtag('event', 'main_tag_toggle', {
          event_category: 'Filter',
          event_label: e.target.value,
          value: e.target.checked ? 1 : 0
        });
      }
    });

    // Track sub tag checkbox changes
    document.getElementById('subTagContainer').addEventListener('change', (e) => {
      if (e.target && e.target.type === 'checkbox') {
        gtag('event', 'sub_tag_toggle', {
          event_category: 'Filter',
          event_label: e.target.value,
          value: e.target.checked ? 1 : 0
        });
      }
    });

    // Optional: Track exam completion â€” call this manually in your script.js after scoring
    // Example:
    // gtag('event', 'exam_completed', {
    //   event_category: 'Exam',
    //   event_label: 'Exam Submitted',
    //   value: scoreValue
    // });
  </script>
</body>
</html>
