<!DOCTYPE html>
<html lang="en">
<head>
     <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z9KTYNYN95"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z9KTYNYN95');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bolted Connections</title>
  <link rel="icon" href="../../../assets/webicon.png" type="image/png" />
  <meta name="description" content="Generate randomized Civil Engineering board-style exams with topic solutions and downloadable materials." />
  <meta name="keywords" content="CE board exam, engineering randomizer, structural, hydraulics, geotech, PSAD, MSTC, HGE, Bolted Connections" />
  <meta property="og:title" content="CE Board Exam Randomizer" />
  <meta property="og:description" content="Generate randomized CE board-style exams instantly!" />
  <meta property="og:image" content="https://ceboardexamgenerator.com/assets/preview.png" />
  <meta property="og:url" content="https://ceboardexamgenerator.com" />
  <meta property="og:type" content="website" />
  <meta name="google-adsense-account" content="ca-pub-2265275210848597">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2265275210848597"
     crossorigin="anonymous"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$']]
    }
  };
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      padding-top: 70px;
      max-width: 900px;
      margin: auto;
      background-color: #f5f5f5;
    }
    header {
      background-color: #18398A;
      padding: 10px 20px;
      color: white;
      display: flex;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      z-index: 999;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
    .logo {
      height: 40px;
      margin-right: 10px;
    }
    .title-group {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-right: auto;
    }
    .title-group h1 {
      font-size: 18px;
      margin: 0;
      color: white;
    }
    .back-btn-header {
      background-color: #fff;
      color: #18398A;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 14px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease;
      white-space: nowrap;
      margin-left: 10px;
    }
    .back-btn-header:hover {
      background-color: #e0e0e0;
    }
    nav {
      position: absolute;
      top: 60px;
      left: 10px;
      background-color: #18398A;
      border-radius: 8px;
      padding: 10px;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      display: none;
    }
    .menu-btn:hover ~ nav, nav:hover {
      display: block;
    }
    .menu-btn {
      cursor: pointer;
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      margin-right: 10px;
    }
    .menu-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .menu-list li {
      position: relative;
    }
    .menu-list a {
      display: block;
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      text-decoration: none;
      transition: background-color 0.2s ease-in-out;
    }
    .menu-list a:hover {
      background-color: #3366cc;
    }
    .dropdown:hover .submenu {
      display: block;
    }
    .submenu {
      display: none;
      position: absolute;
      left: 100%;
      top: 0;
      background-color: #0e2a6d;
      padding: 0;
      border-radius: 5px;
      min-width: 220px;
    }
    .submenu li a {
      color: #fff;
      padding: 8px 12px;
      display: block;
      white-space: nowrap;
    }
    .submenu li a:hover {
      background-color: #5588dd;
    }
    h1 {
      font-weight: 600;
  color: #18398A;
  margin-bottom: 10px;
    }
    .problem {
       margin-bottom: 40px;
  padding: 25px;
  border: 1px solid #ccc;
  border-radius: 10px;
  background: #ffffff;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  transition: box-shadow 0.3s ease;
    }
    .problem h3 {
  background-color: #fff9c4; /* Light yellow like a sticky note */
  color: #4a4a4a; /* Soft black/gray for a hand-drawn feel */
  padding: 14px 20px;
  border-left: 8px solid #fbc02d; /* Sticky edge effect */
  border-radius: 6px;
  font-size: 20px;
  font-weight: 600;
  font-family: 'Comic Sans MS', 'Patrick Hand', 'Segoe UI', cursive;
  box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.08);
  margin-bottom: 16px;
  position: relative;
    }
 
    .problem img, .solution img {
      max-width: 100%;
      display: block;
      margin: 10px auto;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .solution {
  display: none;
  margin-top: 15px;
  padding: 20px;
  background-color: #eef2ff;
  border-left: 5px solid #18398A;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    }
    button {
    background-color: #2962ff;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  font-weight: 600;
  transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
    }
    
button:hover {
background-color: #1c4ed8;
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}
button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(41, 98, 255, 0.3);
}
    .back-btn {
      display: inline-block;
      margin-bottom: 30px;
      text-decoration: none;
      background-color: #ccc;
      color: black;
      padding: 8px 14px;
      border-radius: 4px;
    }
    .back-btn:hover {
      background-color: #bbb;
    }
   .math-box {
  border: 2px solid #18398A;
  padding: 14px 18px;
  background-color: #f0f4ff;
  border-radius: 6px;
  margin: 10px 0;
  display: block; /* was inline-block, which can overflow */
  font-size: 18px;
  overflow-x: auto; /* enables horizontal scroll if needed */
  word-wrap: break-word;
  max-width: 100%; /* ensures it doesn't overflow its parent */
  box-sizing: border-box;
}

/* Refine paragraph and list readability */
p, ol, li {
  font-family: 'Inter', sans-serif;
  font-size: 17px;
  line-height: 1.75;
  color: #2c2c2c;
  margin-bottom: 14px;
}

/* Consistent and clean list appearance */
ol {
  padding-left: 24px;
  margin-top: 10px;
  margin-bottom: 16px;
}

ol li {
  margin-bottom: 8px;
}

/* Optional: Add a little breathing room for line breaks */
br {
  line-height: 2;
}
body.light-mode {
  background-color: #f5f5f5;
  color: #2c2c2c;
}

body.dark-mode {
  background-color: #121212;
  color: #f0f0f0;
}
body.dark-mode .math-box {
  background-color: #2b2b2b;
  border-color: #90caf9;
  color: #e0e0e0;
  overflow-x: auto;
  max-width: 100%;
  box-sizing: border-box;
}

/* Ensure all text-based elements use light colors */
body.dark-mode p,
body.dark-mode li,
body.dark-mode ol,
body.dark-mode .problem h3,
body.dark-mode .math-box,
body.dark-mode .solution,
body.dark-mode .problem {
  color: #f0f0f0;
}

body.dark-mode header {
  background-color: #1f1f1f;
}

/* Problem container in dark mode */
body.dark-mode .problem {
  background-color: #1e1e1e;
  border-color: #333;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.05);
}

/* Show solution box */
body.dark-mode .solution {
  background-color: #2a2a2a;
  border-left-color: #90caf9;
}

/* Boxed equations */
body.dark-mode .math-box {
  background-color: #2b2b2b;
  border-color: #90caf9;
  color: #e0e0e0;
}

/* Buttons */
body.dark-mode button {
  background-color: #3949ab;
  color: white;
}

/* Sticky note-style problem headings */
body.dark-mode .problem h3 {
  background-color: #333;
  border-left-color: #ffeb3b;
  color: #fff9c4;
}

/* (Optional) Fix MathJax dark mode rendering */
body.dark-mode .mjx-mrow {
  color: #ffffff !important;
}
.dark-mode-toggle {
  position: absolute;
  right: 20px;
  top: 15px;
}

.switch {
  position: relative;
  display: inline-block;
  width: 52px;
  height: 28px;
}

.switch input {
  display: none;
}

.slider {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  border-radius: 34px;
  transition: 0.4s;
  cursor: pointer;
}

.slider:before {
  content: 'üåô';
  position: absolute;
  height: 22px;
  width: 22px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: 0.4s;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

/* ‚úÖ Toggle switch when checked */
.switch input:checked ~ .slider {
  background-color: #4d90fe;
}

.switch input:checked ~ .slider:before {
  transform: translateX(24px);
  content: '‚òÄÔ∏è';
}
/* Responsive fix for header overlap on mobile */
@media screen and (max-width: 768px) {
  header {
    flex-wrap: wrap;
    justify-content: space-between;
    height: auto; /* allow height to grow */
    padding-bottom: 10px;
  }

  .title-group {
    flex: 1 1 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-top: 5px;
    gap: 6px;
  }

  .back-btn-header {
    margin-left: 0;
    max-width: 90%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .dark-mode-toggle {
    position: static;
    margin-top: 10px;
    align-self: flex-end;
  }

  .menu-btn {
    margin-right: 10px;
  }
}
/* Style for the overlay */
#imgOverlay {
  display: none;
  position: fixed;
  z-index: 9999;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.8);
  justify-content: center;
  align-items: center;
}

#imgOverlay img {
  max-width: 90%;
  max-height: 90%;
  border: 4px solid white;
  border-radius: 10px;
  box-shadow: 0 0 20px black;
  cursor: zoom-out;
}
/* Default (light mode) */
table thead th {
  background-color: #ffffff;
  color: #000000;
}
table tbody td {
  background-color: #f9f9f9;
  color: #000000;
}

/* Dark mode (triggered via class on <body> or <html>) */
body.dark-mode table thead th {
  background-color: #2b2b2b;
  color: #ffffff;
}
body.dark-mode table tbody td {
  background-color: #1e1e1e;
  color: #ffffff;
}
body.dark-mode table th, 
body.dark-mode table td {
  border-color: #444;
}
/* Base Style */
.note-box {
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0;
  font-size: 0.95rem;
  border-left: 4px solid;
  transition: all 0.3s ease;
}

body.light-mode .note-box {
  background-color: #fef3c7;
  color: #78350f;
  border-color: #f59e0b;
}

body.dark-mode .note-box {
  background-color: #2e2a1f;
  color: #fef9c3;
  border-color: #facc15;
}

  </style>
</head>
<body>
  <header>
    <button class="menu-btn">&#9776;</button>
    <img src="../../../assets/webicon.png" class="logo" alt="Logo">
    <div class="title-group">
      <h1>CE Board Exam Randomizer</h1>
      <a href="../sd.html" class="back-btn-header">‚¨Ö Back to Subject Topics</a>
    </div>
    <nav>
      <ul class="menu-list">
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../../about.html">About</a></li>
        <li><a href="../../../blogs.html">Blogs</a></li>
        <li><a href="../../../privacy.html">Privacy</a></li>
        <li class="dropdown">
          <a href="#">Lecture Notes ‚ñ∏</a>
          <ul class="submenu">
            <li><a href="../../../subjects/psad.html">üìò Structural Engineering (PSAD)</a></li>
            <li><a href="../../../subjects/hydraulics.html">üíß Hydraulics Engineering</a></li>
            <li><a href="../../../subjects/geotech.html">ü™® Geotechnical Engineering</a></li>
            <li><a href="../../../subjects/mstc.html">‚öôÔ∏è MSTC (Math, Surveying, etc)</a></li>
          </ul>
        </li>
      </ul>
    </nav>
     <div class="dark-mode-toggle">
  <label class="switch">
    <input type="checkbox" id="darkModeSwitch">
    <span class="slider"></span>
  </label>
</div>
  </header>


  <div class="problem">
    <h3>Bolted Connections</h3>
    <p>In the previous sections, we have already discussed the failure modes based on the tension of the plate (gross area, net area, and staggered connections), as well as block shear. Here, we will discuss the bearing of the plate, which is the shear tear out at the end of a connected element, and the effects of torsion on bolts due to eccentric loadings.</p>

    <img src="boltedconnection/c1.png" alt="Concept" onerror="this.style.display='none';" />

    <p>
From the idealized failure surface, the total nominal strength is:
</p>

<div class="math-box">
$$ R_n = 1.2 L_c t F_u \;\; \le \;\; 2.4 d t F_u $$
</div>

<p><strong>Where:</strong></p>
<ul>
  <li>$L_c$ = clear distance, measured in the direction parallel to the applied load, from the edge of the bolt hole to the edge of the adjacent hole or to the material edge</li>
  <li>$t$ = thickness of the connected part</li>
  <li>$F_u$ = ultimate tensile stress of the connected part (not the bolt)</li>
  <li>$d$ = bolt diameter</li>
  <li>$2.4dtF_u$ = upper limit of $R_n$</li>
</ul>

<p><strong>For LRFD:</strong></p>
<div class="math-box">
$$ \phi R_n = 0.75 R_n \quad ; \quad \phi = 0.75 $$
</div>

<p><strong>For ASD:</strong></p>
<div class="math-box">
$$ \frac{R_n}{\Omega} = \frac{R_n}{2} \quad ; \quad \Omega = 2.00 $$
</div>
<h3>Spacing and Edge - Distance Requirements</h3>
<p>Minimum spacing, S, and edge distance, L<sub>e</sub>, in any direction, both in the line of force and transverse to the line of force.</p>
    <img src="boltedconnection/c2.png" alt="Concept" onerror="this.style.display='none';" />
<div class="math-box">
$$ s \ge 2 \tfrac{2}{3} d \quad (\text{preferred } 3d) $$
</div>
   <img src="boltedconnection/c3.png" alt="Concept" onerror="this.style.display='none';" />
<p><strong>For LRFD:</strong></p>
<div class="math-box">
$$ \phi R_n = 0.75 F_{nv} A_b \quad ; \quad \phi = 0.75 $$
</div>

<p><strong>For ASD:</strong></p>
<div class="math-box">
$$ \frac{R_n}{\Omega} = \frac{F_{nv} A_b}{2} = 0.50 F_{nv} A_b \quad ; \quad \Omega = 2.00 $$
</div>
 <h3>Eccentric Bolted Connections (Elastic Analysis)</h3>
 <p>Consider the bolted connection acted by a force P as shown.</p>
    <img src="boltedconnection/c4.png" alt="Concept" onerror="this.style.display='none';" />
<p>1. Resolve P into components P<sub>x</sub> and P<sub>y</sub>and construct the equivalent loading<br>
    2. Locate the center of gravity of the bolt group. For symmetrical arrangements of bolts, the center of gravity is located at the geometric center. For non=symmetrical arrangements, it can be located by using Varignon's Theorem<br>
    3. The equivalent effect is that the system of bolts is acted by direct shears P<sub>x</sub> and P<sub>y</sub> and a torsional moment T at the center of gravity.
    <h3>Equivalent Loading</h3>
    <img src="boltedconnection/c5.png" alt="Concept" onerror="this.style.display='none';" />
  <h3>Bolt Group: Direct Shear + Torsion (Procedure)</h3>

<ol start="5">
  <li>
    For direct shear loads, distribute equally among the bolts: 
    <div class="math-box">$$ P_{Dx} = \frac{P_x}{n}, \qquad P_{Dy} = \frac{P_y}{n} $$</div>
    where $n$ = number of bolts.
  </li>

  <li>
    Compute the torsional moment about the bolt group centroid:
    <div class="math-box">$$ T = P_x e_y + P_y e_x $$</div>
  </li>

  <li>
    The most stressed bolt is where the forces due to direct shear and torsion are of similar directions. Forces due to direct shear have the same directions as the components of the applied force. For the forces due to torsion, draw lines (indicated as green lines) from the c.g. going to the center of each bolt. Next, draw forces perpendicular to such line (indicated as purple lines) that cause a rotation opposite to the torsional moment.<br><br>
    <div class="note-box">Since the torsional moment is clockwise, the forces, P<sub>T1</sub>, P<sub>T2</sub>, and P<sub>T3</sub> must cause a counterclockwise rotation.</div>
  </li>
   <img src="boltedconnection/c6.png" alt="Concept" onerror="this.style.display='none';" />
  <li>
    Consider bolt 1. The torsion-induced load on bolt 1 is $P_T$, resolved into components:
    <div class="math-box">
      $$ P_{Tx1} = \frac{T\,y_1}{\sum (x^2 + y^2)}, \qquad
         P_{Ty1} = \frac{T\,x_1}{\sum (x^2 + y^2)} $$
    </div>
    Define the polar moment of the bolt group:
    <div class="math-box">
      $$ J = \sum (x^2 + y^2) $$
    </div>
  </li>

  <li>
    Select the bolt with the maximum combined shear (direct + torsion). The total resultant on that bolt is:
    <div class="math-box">
      $$ P = \sqrt{\left(P_{Tx} + P_{Dx}\right)^2 + \left(P_{Ty} + P_{Dy}\right)^2} $$
    </div>
  </li>
</ol>  
 
    <img src="boltedconnection/c7.png" alt="Concept" onerror="this.style.display='none';" />
    <img src="boltedconnection/c8.png" alt="Concept" onerror="this.style.display='none';" />
    <img src="boltedconnection/c9.png" alt="Concept" onerror="this.style.display='none';" />
  </div>
  <!--
<div class="problem">
  <h3>Problem 1:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p1a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p1b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p1c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s1a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s1b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s1c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s1d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 2:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p2a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p2b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p2c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s2a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s2b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s2c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s2d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 3:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p3a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p3b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p3c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s3a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s3b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s3c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s3d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 4:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p4a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p4b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p4c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s4a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s4b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s4c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s4d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 5:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p5a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p5b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p5c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s5a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s5b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s5c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s5d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 6:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p6a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p6b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p6c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s6a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s6b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s6c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s6d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 7:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p7a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p7b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p7c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s7a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s7b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s7c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s7d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>

<div class="problem">
  <h3>Problem 8:</h3>
  <p>Refer to the image shown:</p>
  <img src="boltedconnection/p8a.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p8b.png" alt="Diagram" onerror="this.style.display='none';" />
    <img src="boltedconnection/p8c.png" alt="Diagram" onerror="this.style.display='none';" />
  <button onclick="toggleSolution(this)">Show Solution</button>
  <div class="solution">
    <p>See images:</p>
    <img src="boltedconnection/s8a.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s8b.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s8c.png" alt="Solution" onerror="this.style.display='none';" />
      <img src="boltedconnection/s8d.png" alt="Solution" onerror="this.style.display='none';" />
  </div>
</div>
-->

  <script>
    function toggleSolution(button) {
      const solution = button.nextElementSibling;
      solution.style.display = solution.style.display === "block" ? "none" : "block";
    }
  </script>
<script>
  const toggle = document.getElementById('darkModeSwitch');

  // On initial load: apply stored theme
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark-mode');
    toggle.checked = true;
  } else {
    document.body.classList.add('light-mode');
  }

  // Toggle theme on switch change
  toggle.addEventListener('change', () => {
    const useDark = toggle.checked;

    // Clear both classes first
    document.body.classList.remove('dark-mode', 'light-mode');
    document.body.classList.add(useDark ? 'dark-mode' : 'light-mode');

    // Save preference
    localStorage.setItem('theme', useDark ? 'dark' : 'light');
  });
</script>
<div id="problemNav" style="
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 9999;
  font-size: 14px;
  max-width: 280px;
">
  <button id="toggleNavBtn" style="
    background-color: #18398A;
    color: white;
    border: none;
    border-radius: 50px;
    padding: 10px 16px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  ">üìö Problems</button>

  <div id="navContent" style="
    display: none;
    background: #fff;
    border: 2px solid #18398A;
    border-radius: 10px;
    padding: 12px 16px;
    max-height: 300px;
    overflow-y: auto;
    margin-top: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  ">
    <strong style="color: #18398A;">üß≠ Jump to:</strong>
    <ul id="problemList" style="list-style: none; padding-left: 0; margin-top: 10px;"></ul>
  </div>
</div>
<script>
  // Toggle show/hide nav
  document.getElementById('toggleNavBtn').addEventListener('click', function () {
    const nav = document.getElementById('navContent');
    nav.style.display = nav.style.display === 'block' ? 'none' : 'block';
  });

  // Generate list of problem links
  document.addEventListener('DOMContentLoaded', function () {
  const list = document.getElementById("problemList");
  const problems = document.querySelectorAll(".problem h3");

  problems.forEach((h3, index) => {
    const id = "problem" + (index + 1);
    h3.id = id;

    const text = h3.textContent.trim();
    const li = document.createElement("li");
    const link = document.createElement("a");

    link.href = "javascript:void(0)";
    link.textContent = text;
    link.style.display = "block";
    link.style.padding = "6px 0";
    link.style.color = "#18398A";
    link.style.textDecoration = "none";
    link.style.fontWeight = "500";

    link.addEventListener("mouseover", () => link.style.textDecoration = "underline");
    link.addEventListener("mouseout", () => link.style.textDecoration = "none");

    // Custom smooth scroll with offset
    link.addEventListener("click", function () {
      const target = document.getElementById(id);
      const yOffset = -80; // ‚Üê Adjust this based on your header height
      const y = target.getBoundingClientRect().top + window.pageYOffset + yOffset;
      window.scrollTo({ top: y, behavior: 'smooth' });

      // Optional: close menu after click
      document.getElementById('navContent').style.display = 'none';
    });

    li.appendChild(link);
    list.appendChild(li);
  });
});

</script>



<!-- Overlay -->
<div id="imgOverlay">
  <div id="expandedWrapper">
    <img id="expandedImg" src="" alt="">
  </div>
  <button id="closeBtn" aria-label="Close">√ó</button>
  <div id="zoomHint">Scroll to zoom</div>
</div>

<style>
#imgOverlay {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,.85);
  z-index: 99999;
  padding: 24px;             /* margin from edges */
  box-sizing: border-box;
}

#expandedWrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

#expandedImg {
  display: block;                                /* removes inline gap */
  max-width: calc(100vw - 48px);                 /* viewport minus padding */
  max-height: calc(100vh - 48px);                /* viewport minus padding */
  cursor: grab;
  user-select: none;
  -webkit-user-drag: none;
  transition: transform 0.05s linear;
  transform-origin: center center;
}

  /* Perfectly centered X button */
  #closeBtn {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff;
    color: #000;
    border: none;
    border-radius: 50%;
    width: 44px;
    height: 44px;
    font-size: 28px;
    font-weight: 900;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,.6);
    z-index: 100000;
    transition: background 0.2s, transform 0.2s;
  }
  #closeBtn:hover {
    background: #ff4444;
    color: #fff;
    transform: scale(1.1);
  }

  #zoomHint {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-size: 16px;
    background: rgba(0,0,0,0.6);
    padding: 6px 12px;
    border-radius: 6px;
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: 100000;
    pointer-events: none;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const overlay = document.getElementById('imgOverlay');
  const expandedImg = document.getElementById('expandedImg');
  const closeBtn = document.getElementById('closeBtn');
  const zoomHint = document.getElementById('zoomHint');

  expandedImg.setAttribute('draggable', 'false');
  expandedImg.addEventListener('dragstart', e => e.preventDefault());

  let scale = 1, translateX = 0, translateY = 0;
  let isPanning = false, lastX = 0, lastY = 0;

  function applyTransform() {
    if (scale === 1 && translateX === 0 && translateY === 0) {
      expandedImg.style.transform = '';
    } else {
      expandedImg.style.transform =
        `translate(${translateX}px, ${translateY}px) scale(${scale})`;
    }
  }

  function showHint() {
    zoomHint.style.opacity = '1';
    clearTimeout(showHint._t);
    showHint._t = setTimeout(() => { zoomHint.style.opacity = '0'; }, 2000);
  }

  function openOverlay(src) {
    expandedImg.src = src;
    overlay.style.display = 'flex';
    // reset to neutral
    scale = 1; translateX = 0; translateY = 0;
    expandedImg.style.transform = '';  
    expandedImg.style.cursor = 'grab';
    showHint();
  }

  function closeOverlay() {
    overlay.style.display = 'none';
  }

  // Click any image to open (skip overlay one)
  document.querySelectorAll('img').forEach(img => {
    if (img === expandedImg) return;
    img.style.cursor = 'zoom-in';
    img.addEventListener('click', () => {
      if (img.style.display !== 'none' && img.src) openOverlay(img.src);
    });
  });

  // Close options
  closeBtn.addEventListener('click', closeOverlay);
  document.addEventListener('keydown', (e) => {
    if (overlay.style.display !== 'none' && e.key === 'Escape') closeOverlay();
  });
// Double-click anywhere OUTSIDE the image closes the overlay
overlay.addEventListener('dblclick', (e) => {
  if (!expandedImg.contains(e.target)) {
    closeOverlay();
  }
});

  // Scroll to zoom
  expandedImg.addEventListener('wheel', (e) => {
    e.preventDefault();
    const dir = e.deltaY < 0 ? 1 : -1;
    scale = Math.min(10, Math.max(0.2, +(scale + dir * 0.12).toFixed(3)));
    applyTransform();
  }, { passive: false });

  // Pan with left mouse
  expandedImg.addEventListener('mousedown', (e) => {
    if (e.button !== 0) return;
    isPanning = true;
    lastX = e.clientX; lastY = e.clientY;
    expandedImg.style.cursor = 'grabbing';
    e.preventDefault();
  });
  document.addEventListener('mousemove', (e) => {
    if (!isPanning) return;
    translateX += e.clientX - lastX;
    translateY += e.clientY - lastY;
    lastX = e.clientX; lastY = e.clientY;
    applyTransform();
  });
  document.addEventListener('mouseup', () => {
    if (!isPanning) return;
    isPanning = false;
    expandedImg.style.cursor = 'grab';
  });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('img').forEach(img => {
    img.addEventListener('error', () => img.remove());
  });
});
</script>
</body>
</html>